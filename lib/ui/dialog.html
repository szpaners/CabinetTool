<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Właściwości szafki</title>
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous"
    >
    <link rel="stylesheet" href="dialog.css">
</head>
<body>
<div class="container-fluid compact-dialog py-2 px-2">
    <div class="tabs nav nav-tabs nav-justified mb-2">
        <button class="tab nav-link active" onclick="switchTab(this, 'dimensions')" type="button">Dolna</button>
        <button class="tab nav-link" onclick="switchTab(this, 'materials')" type="button">Szafa</button>
        <button class="tab nav-link" onclick="switchTab(this, 'advanced')" type="button">Zaawansowane</button>
    </div>

    <div id="dimensions" class="tab-content active">
        <div class="section card card-body mb-2">
            <h3 class="section-title">Podgląd na żywo</h3>
            <div class="live-preview">
                <div class="preview-canvas iso-preview-canvas" id="preview_canvas">
                    <svg id="preview_iso_svg" viewBox="0 0 340 220" role="img" aria-label="Podgląd izometryczny szafki">
                        <g id="preview_iso_shadow"></g>
                        <g id="preview_iso_cabinet"></g>
                        <g id="preview_iso_details"></g>
                        <g id="preview_iso_front"></g>
                    </svg>
                </div>
                <div class="preview-summary" id="preview_summary"></div>
            </div>
        </div>
        <div class="section card card-body mb-2">
            <h3 class="section-title">Wymiary korpusu</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label for="width">Szerokość (mm):</label>
                    <input type="number" id="width" value="600" class="form-control form-control-sm">
                </div>
                <div class="form-group">
                    <label for="height">Wysokość całkowita (mm, z cokołami):</label>
                    <input type="number" id="height" value="800" step="1" class="form-control form-control-sm">
                </div>
                <div class="form-group">
                    <label for="depth">Głębokość (mm):</label>
                    <input type="number" id="depth" value="300" class="form-control form-control-sm">
                </div>
            </div>
            <div class="form-grid mt-2">
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="kitchen_base_checkbox" onchange="toggleKitchenBaseSection()" class="form-check-input me-1">
                        Typ szafki: kuchenna dolna
                    </label>
                </div>
                <div class="form-group is-hidden" id="connector_width_group">
                    <label for="connector_width">Szerokość łącznika (mm):</label>
                    <input type="number" id="connector_width" value="100" min="1" class="form-control form-control-sm">
                </div>
            </div>
        </div>

        <div class="section card card-body mb-2">
            <h3 class="section-title">Front</h3>
            <div class="form-grid">
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="front_checkbox" onchange="toggleFrontSection()" class="form-check-input me-1">
                        Front
                    </label>
                </div>
            </div>
            <div id="front_section" class="is-hidden">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="front_quantity">Ilość:</label>
                        <select id="front_quantity" class="form-select form-select-sm">
                            <option value="1">1</option>
                            <option value="2">2</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="front_handle">Uchwyt:</label>
                        <select id="front_handle" disabled class="form-select form-select-sm">
                            <option value="J">J</option>
                            <option value="45">45</option>
                            <option value="brak">Brak</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="front_type">Typ frontu:</label>
                        <select id="front_type" class="form-select form-select-sm">
                            <option value="flat">Płaski</option>
                            <option value="frame">Ramka</option>
                            <option value="lamella">Lamelowany</option>
                        </select>
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="front_opening_direction">Kierunek Otwarcia:</label>
                        <select id="front_opening_direction" class="form-select form-select-sm">
                            <option value="prawo">Prawo</option>
                            <option value="lewo">Lewo</option>
                            <option value="góra">Góra</option>
                            <option value="dół">Dół</option>
                            <option value="wysów">Wysów</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="front_technological_gap">Przerwa technologiczna:</label>
                        <input type="number" id="front_technological_gap" value="2" class="form-control form-control-sm">
                    </div>
                    <div class="form-group" id="frame_width_group" style="display: none;">
                        <label for="frame_width">Szerokość Ramki:</label>
                        <input type="number" id="frame_width" value="20" min="1" class="form-control form-control-sm">
                    </div>
                    <div class="form-group" id="frame_inner_thickness_group" style="display: none;">
                        <label for="frame_inner_thickness">Grubość wnętrza:</label>
                        <input type="number" id="frame_inner_thickness" value="2" min="1" class="form-control form-control-sm">
                    </div>
                    <div class="form-group" id="groove_width_group" style="display: none;">
                        <label for="groove_width">Szerokość lameli (mm):</label>
                        <input type="number" id="groove_width" value="12" min="1" class="form-control form-control-sm">
                    </div>
                    <div class="form-group" id="groove_spacing_group" style="display: none;">
                        <label for="groove_spacing">Odstęp między lamelami (mm):</label>
                        <input type="number" id="groove_spacing" value="8" min="0" class="form-control form-control-sm">
                    </div>
                    <div class="form-group" id="groove_depth_group" style="display: none;">
                        <label for="groove_depth">Głębokość między lamelami (mm):</label>
                        <input type="number" id="groove_depth" value="3" min="0.1" step="0.1" class="form-control form-control-sm">
                    </div>
                </div>
            </div>
        </div>

        <div class="section card card-body mb-2">
            <h3 class="section-title">Grubości paneli</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label for="panel_thickness">Grubość panelów (mm):</label>
                    <input type="number" id="panel_thickness" value="18" class="form-control form-control-sm">
                </div>
                <div class="form-group">
                    <label for="front_thickness">Grubość frontu (mm):</label>
                    <input type="number" id="front_thickness" value="18" class="form-control form-control-sm">
                </div>
                <div class="form-group">
                    <label for="back_thickness">Grubość tylnej ścianki (mm):</label>
                    <input type="number" id="back_thickness" value="3" class="form-control form-control-sm">
                </div>
            </div>
        </div>

        <div class="section card card-body mb-2">
            <h3 class="section-title">Wygląd</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label for="nazwa_szafki">Nazwa szafki:</label>
                    <input type="text" id="nazwa_szafki" value="szafka" class="form-control form-control-sm">
                </div>
                <div class="form-group">
                    <label for="color">Kolor:</label>
                    <input type="color" id="color" value="#8B5A2B" class="form-control form-control-sm">
                </div>
            </div>
        </div>

        <div class="section card card-body mb-2" id="filling_section">
            <h3 class="section-title">Wypełnienie</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label for="filling">Wypełnienie:</label>
                    <select id="filling" class="form-select form-select-sm">
                        <option value="none">Brak</option>
                        <option value="shelves">Półki</option>
                        <option value="drawers">Szuflady</option>
                    </select>
                </div>
                <div class="form-group" id="shelf-count-group" style="display: none;">
                    <label for="shelf_count">Ilość półek:</label>
                    <input type="number" id="shelf_count" value="1" min="1" class="form-control form-control-sm">
                </div>
                <div class="form-group" id="drawer-count-group" style="display: none;">
                    <label for="drawer_count">Ilość szuflad:</label>
                    <input type="number" id="drawer_count" value="1" min="1" class="form-control form-control-sm">
                </div>
                <div class="form-group checkbox-group" id="drawers-asymmetric-group" style="display: none;">
                    <label>
                        <input type="checkbox" id="drawers_asymmetric_checkbox" onchange="toggleAsymmetricDrawerInput()" class="form-check-input me-1">
                        Asymetryczne
                    </label>
                </div>
                <div class="form-group" id="first-drawer-height-group" style="display: none;">
                    <label for="first_drawer_height">Wysokość pierwszej szuflady (mm):</label>
                    <input type="number" id="first_drawer_height" value="100" min="1" class="form-control form-control-sm">
                </div>
            </div>
        </div>

        <div class="section card card-body mb-2">
            <h3 class="section-title">Cokół</h3>
            <div class="form-grid mb-1">
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="cokol_dolny_checkbox" onchange="toggleCokolDolnyInput()" class="form-check-input me-1">
                        Cokół dolny
                    </label>
                </div>
                <div class="form-group" id="cokol_dolny_input" style="display: none;">
                    <label for="cokol_dolny_value">Wartość (mm):</label>
                    <input type="number" id="cokol_dolny_value" value="0" class="form-control form-control-sm">
                </div>
                <div class="form-group" id="cokol_dolny_offset_input" style="display: none;">
                    <label for="cokol_dolny_offset_value">Odsunięcie wgłąb (mm):</label>
                    <input type="number" id="cokol_dolny_offset_value" value="0" min="0" class="form-control form-control-sm">
                </div>
            </div>

            <div class="form-grid">
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="cokol_gorny_checkbox" onchange="toggleCokolGornyInput()" class="form-check-input me-1">
                        Cokół górny
                    </label>
                </div>
                <div class="form-group" id="cokol_gorny_input" style="display: none;">
                    <label for="cokol_gorny_value">Wartość (mm):</label>
                    <input type="number" id="cokol_gorny_value" value="0" class="form-control form-control-sm">
                </div>
                <div class="form-group" id="cokol_gorny_offset_input" style="display: none;">
                    <label for="cokol_gorny_offset_value">Odsunięcie wgłąb (mm):</label>
                    <input type="number" id="cokol_gorny_offset_value" value="0" min="0" class="form-control form-control-sm">
                </div>
            </div>
        </div>

        <div class="section card card-body mb-1">
            <h3 class="section-title">Blenda</h3>
            <div class="blend-section">
                <div class="form-grid">
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="blend_left" onchange="toggleBlendInput('left')" class="form-check-input me-1">
                            Lewa
                        </label>
                    </div>
                    <div class="form-group is-hidden" id="blend_left_input">
                        <label for="blend_left_value">Wartość (mm):</label>
                        <input type="number" id="blend_left_value" value="0" class="form-control form-control-sm">
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="blend_left_depth_checkbox" onchange="toggleBlendLeftDepthInput()" class="form-check-input me-1">
                            Głębokość lewa
                        </label>
                    </div>
                    <div class="form-group is-hidden" id="blend_left_depth_input">
                        <label for="blend_left_depth_value">Głębokość (mm):</label>
                        <input type="number" id="blend_left_depth_value" value="0" class="form-control form-control-sm">
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="blend_right" onchange="toggleBlendInput('right')" class="form-check-input me-1">
                            Prawa
                        </label>
                    </div>
                    <div class="form-group is-hidden" id="blend_right_input">
                        <label for="blend_right_value">Wartość (mm):</label>
                        <input type="number" id="blend_right_value" value="0" class="form-control form-control-sm">
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="blend_right_depth_checkbox" onchange="toggleBlendRightDepthInput()" class="form-check-input me-1">
                            Głębokość prawa
                        </label>
                    </div>
                    <div class="form-group is-hidden" id="blend_right_depth_input">
                        <label for="blend_right_depth_value">Głębokość (mm):</label>
                        <input type="number" id="blend_right_depth_value" value="0" class="form-control form-control-sm">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="materials" class="tab-content">
        <div class="section card card-body mb-2">
            <h3 class="section-title">Szafa — wymiary i wygląd</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label for="wardrobe_width">Szerokość (mm):</label>
                    <input type="number" id="wardrobe_width" value="1000" class="form-control form-control-sm">
                </div>
                <div class="form-group">
                    <label for="wardrobe_height">Wysokość całkowita (mm, z cokołami):</label>
                    <input type="number" id="wardrobe_height" value="2200" class="form-control form-control-sm">
                </div>
                <div class="form-group">
                    <label for="wardrobe_depth">Głębokość (mm):</label>
                    <input type="number" id="wardrobe_depth" value="600" class="form-control form-control-sm">
                </div>
            </div>
            <div class="form-grid mt-2">
                <div class="form-group">
                    <label for="wardrobe_panel_thickness">Grubość płyty (mm):</label>
                    <input type="number" id="wardrobe_panel_thickness" value="18" class="form-control form-control-sm">
                </div>
                <div class="form-group">
                    <label for="wardrobe_back_thickness">Grubość płyty na plecy (mm):</label>
                    <input type="number" id="wardrobe_back_thickness" value="3" class="form-control form-control-sm">
                </div>
                <div class="form-group">
                    <label for="wardrobe_front_thickness">Grubość frontu (mm):</label>
                    <input type="number" id="wardrobe_front_thickness" value="18" class="form-control form-control-sm">
                </div>
            </div>
            <div class="form-grid mt-2">
                <div class="form-group">
                    <label for="wardrobe_nazwa_szafki">Nazwa:</label>
                    <input type="text" id="wardrobe_nazwa_szafki" value="szafa" class="form-control form-control-sm">
                </div>
                <div class="form-group">
                    <label for="wardrobe_color">Kolor:</label>
                    <input type="color" id="wardrobe_color" value="#8B5A2B" class="form-control form-control-sm">
                </div>
            </div>
        </div>

        <div class="section card card-body mb-2">
            <h3 class="section-title">Front</h3>
            <div class="form-grid">
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" id="wardrobe_front_enabled" class="form-check-input me-1"> Front</label>
                </div>
            </div>
            <div id="wardrobe_front_options" class="is-hidden">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="wardrobe_front_quantity">Ilość:</label>
                        <select id="wardrobe_front_quantity" class="form-select form-select-sm"><option value="1">1</option><option value="2">2</option></select>
                    </div>
                    <div class="form-group">
                        <label for="wardrobe_front_opening_direction">Kierunek:</label>
                        <select id="wardrobe_front_opening_direction" class="form-select form-select-sm">
                            <option value="prawo">Prawo</option><option value="lewo">Lewo</option><option value="góra">Góra</option><option value="dół">Dół</option><option value="wysów">Wysów</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="wardrobe_front_technological_gap">Luz technologiczny (mm):</label>
                        <input type="number" id="wardrobe_front_technological_gap" value="2" class="form-control form-control-sm">
                    </div>
                </div>
                <div class="form-grid mt-2">
                    <div class="form-group">
                        <label for="wardrobe_front_type">Typ frontu:</label>
                        <select id="wardrobe_front_type" class="form-select form-select-sm"><option value="flat">Płaski</option><option value="frame">Ramka</option><option value="lamella">Lamelowany</option></select>
                    </div>
                    <div class="form-group" id="wardrobe_frame_width_group">
                        <label for="wardrobe_frame_width">Szerokość ramki (mm):</label>
                        <input type="number" id="wardrobe_frame_width" value="20" class="form-control form-control-sm">
                    </div>
                    <div class="form-group" id="wardrobe_frame_inner_thickness_group">
                        <label for="wardrobe_frame_inner_thickness">Grubość wnętrza ramki (mm):</label>
                        <input type="number" id="wardrobe_frame_inner_thickness" value="2" class="form-control form-control-sm">
                    </div>
                </div>
                <div class="form-grid mt-2">
                    <div class="form-group" id="wardrobe_groove_width_group">
                        <label for="wardrobe_groove_width">Szerokość lameli (mm):</label>
                        <input type="number" id="wardrobe_groove_width" value="12" class="form-control form-control-sm">
                    </div>
                    <div class="form-group" id="wardrobe_groove_spacing_group">
                        <label for="wardrobe_groove_spacing">Przerwa lameli (mm):</label>
                        <input type="number" id="wardrobe_groove_spacing" value="8" class="form-control form-control-sm">
                    </div>
                    <div class="form-group" id="wardrobe_groove_depth_group">
                        <label for="wardrobe_groove_depth">Głębokość lameli (mm):</label>
                        <input type="number" id="wardrobe_groove_depth" value="3" class="form-control form-control-sm">
                    </div>
                </div>
            </div>
        </div>

        <div class="section card card-body mb-2" id="wardrobe_sections_card">
            <h3 class="section-title">Sekcje wnętrza</h3>
            <div class="d-flex gap-2 align-items-center mb-2">
                <label class="mb-0"><input type="checkbox" id="wardrobe_sections_fill_remaining" class="form-check-input me-1" checked>Dodaj ostatnią sekcję jako resztę</label>
            </div>
            <div id="wardrobe_sections_list" class="sections-list"></div>
            <div id="wardrobe_sections_remaining" class="sections-remaining mt-2">Pozostała wysokość: 0 mm</div>
            <div class="d-flex justify-content-end mt-2">
                <button id="wardrobe_add_section" type="button" class="btn btn-sm btn-outline-primary">Dodaj sekcję</button>
            </div>
            <template id="wardrobe_section_template">
                <div class="section-row" data-section-row>
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Wysokość sekcji (mm)</label>
                            <input type="number" class="form-control form-control-sm" data-field="height" min="1" value="400">
                        </div>
                        <div class="form-group">
                            <label>Wypełnienie</label>
                            <select class="form-select form-select-sm" data-field="filling">
                                <option value="none">Brak</option>
                                <option value="drawers">Szuflady</option>
                                <option value="shelves">Półki</option>
                                <option value="rod">Drążek</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Parametr</label>
                            <input type="number" class="form-control form-control-sm" data-field="param" min="0" value="0">
                            <small data-field="param_hint" class="text-muted">Brak parametru</small>
                        </div>
                        <div class="form-group checkbox-group">
                            <label><input type="checkbox" class="form-check-input me-1" data-field="top_panel">Płyta na górze</label>
                        </div>
                        <div class="form-group section-row-actions">
                            <button type="button" class="btn btn-sm btn-outline-danger" data-action="remove">Usuń</button>
                        </div>
                    </div>
                </div>
            </template>
        </div>

        <div class="section card card-body mb-2">
            <h3 class="section-title">Cokół i blenda</h3>
            <div class="form-grid">
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" id="wardrobe_cokol_dolny_checkbox" class="form-check-input me-1"> Cokół dolny</label>
                </div>
                <div class="form-group is-hidden" id="wardrobe_cokol_dolny_group">
                    <label for="wardrobe_cokol_dolny_value">Wysokość cokołu dolnego (mm):</label>
                    <input type="number" id="wardrobe_cokol_dolny_value" value="0" class="form-control form-control-sm">
                </div>
                <div class="form-group is-hidden" id="wardrobe_cokol_dolny_offset_group">
                    <label for="wardrobe_cokol_dolny_offset_value">Cokół dolny odsunięcie (mm):</label>
                    <input type="number" id="wardrobe_cokol_dolny_offset_value" value="0" min="0" class="form-control form-control-sm">
                </div>
            </div>
            <div class="form-grid mt-2">
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" id="wardrobe_cokol_gorny_checkbox" class="form-check-input me-1"> Cokół górny</label>
                </div>
                <div class="form-group is-hidden" id="wardrobe_cokol_gorny_group">
                    <label for="wardrobe_cokol_gorny_value">Wysokość cokołu górnego (mm):</label>
                    <input type="number" id="wardrobe_cokol_gorny_value" value="0" class="form-control form-control-sm">
                </div>
                <div class="form-group is-hidden" id="wardrobe_cokol_gorny_offset_group">
                    <label for="wardrobe_cokol_gorny_offset_value">Cokół górny odsunięcie (mm):</label>
                    <input type="number" id="wardrobe_cokol_gorny_offset_value" value="0" min="0" class="form-control form-control-sm">
                </div>
            </div>
            <div class="form-grid mt-2">
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" id="wardrobe_blend_left_checkbox" class="form-check-input me-1"> Blenda lewa</label>
                </div>
                <div class="form-group is-hidden" id="wardrobe_blend_left_group">
                    <label for="wardrobe_blend_left_value">Blenda lewa (mm):</label>
                    <input type="number" id="wardrobe_blend_left_value" value="0" class="form-control form-control-sm">
                </div>
                <div class="form-group is-hidden" id="wardrobe_blend_left_depth_group">
                    <label for="wardrobe_blend_left_depth_value">Blenda lewa głębokość (mm):</label>
                    <input type="number" id="wardrobe_blend_left_depth_value" value="0" class="form-control form-control-sm">
                </div>
            </div>
            <div class="form-grid mt-2">
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" id="wardrobe_blend_right_checkbox" class="form-check-input me-1"> Blenda prawa</label>
                </div>
                <div class="form-group is-hidden" id="wardrobe_blend_right_group">
                    <label for="wardrobe_blend_right_value">Blenda prawa (mm):</label>
                    <input type="number" id="wardrobe_blend_right_value" value="0" class="form-control form-control-sm">
                </div>
                <div class="form-group is-hidden" id="wardrobe_blend_right_depth_group">
                    <label for="wardrobe_blend_right_depth_value">Blenda prawa głębokość (mm):</label>
                    <input type="number" id="wardrobe_blend_right_depth_value" value="0" class="form-control form-control-sm">
                </div>
            </div>
        </div>
    </div>

    <div id="advanced" class="tab-content"></div>

    <div class="button-group mt-2">
        <button class="btn btn-sm btn-primary" onclick="saveCabinet()" type="button">Zapisz i rysuj</button>
        <button class="btn btn-sm btn-outline-secondary" onclick="closeDialog()" type="button">Anuluj</button>
    </div>
</div>

<script src="dialog_wardrobe.js"></script>
<script src="dialog.js"></script>
</body>
</html>
